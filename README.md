### ERD

[![](https://mermaid.ink/img/pako:eNqtV21zojAQ_itOPrcdqlUr32zFO-davfGlN71xhkkhaqaQcCG0Z63__TYKFAJY7RwfFLJPNs-z2V3CBjncJchERPQoXgrsz1kNrtnEGk9q7-_n53xTG4176smsBR52SFiCGFsPA-uXgrwKKksht93xFOwrDMa9uT8a9ezb7tT6NhoPrBR4bw1n9mBq3St3DpZkyQV9I-m0sTWZdmfj7nCaWT4ZsiezG-UgWaliQm4NvlgQUY1N1QviEPpCwgM0kih8QHVwSrBULWcSU5ZOi5dW0PeYSAlWQyaU7Z_dR_A-nWRjkcf1rLvBgzV-tIHddKaAUmDnOV0_Qy7nOeFAK3Fqt3OwPXCXBLGcHERXHnO3763p91GvWlgUEtdecJHM26fcZv-gLsqkAgmburWfPz7GQykoW-5MDPukYCA-pl5hNMBh-MqFa0NAV0XrijNis8h_IqJgxK4rSBh-jLuQ2pL6pOYIAreujeXeuK0qEE1WXBvrCml5WWqCS0Oo4LUNAkoIUtgDOxKeRiKb5xoB0CNxJDCTR1GoCsTB6LnEoT72agJLABUm8YAw-LdXPBJFl05EQwpO5ToglbLSitTUhdGTT1ikSysK738x9tuSMtM4QC_1TyOgMddN2ZzpH7lhLgkdQQNJOSvuSyCoU5wCpiUpSaa4_WgqdzEpk5kUbv9o-QktySX2bOzziMkCO5gso2MqMRcEDxo6BK4qfVMAdDEpIkeFKyyTX77TcQwq9juNkB6JZII-_ieC4FC5Prhh21xbLnQXIY_dk89bWabZl65ToTsh8TXZmWLfv5gL_euFktf_k3g7a3mPcrgP5ShPCZf--tOIB3itPNo-kSvuftp8tfxLX58VXk_JvyKTsmo8sg7jYTiDsBDvCggcnhI2_Tyjd_Tdekfr-6xbqB8w-oHG4qY7HEKYIeVHcBy501k8YcYqzyNa48xGhUrvyN4c2zzKnvOuDhwClColFepN3WoGwtzM8BadIZ8IOCG58OWwkzdHckUg35AJty5Z4MiTczRnCoojySdr5iAT-iI5Q4JHyxUyF9gL4SkKlOP44yOBBJj95jz7iMwN-ovM9uVF3TBazWa7U79qdFrXZ2iNzMblhdFs143r1lX9yoC_7Rl62803LtqdVr3ZaBqdS6NjGI3m9h8OEuyc?type=png)](https://mermaid.live/edit#pako:eNqtV21zojAQ_itOPrcdqlUr32zFO-davfGlN71xhkkhaqaQcCG0Z63__TYKFAJY7RwfFLJPNs-z2V3CBjncJchERPQoXgrsz1kNrtnEGk9q7-_n53xTG4176smsBR52SFiCGFsPA-uXgrwKKksht93xFOwrDMa9uT8a9ezb7tT6NhoPrBR4bw1n9mBq3St3DpZkyQV9I-m0sTWZdmfj7nCaWT4ZsiezG-UgWaliQm4NvlgQUY1N1QviEPpCwgM0kih8QHVwSrBULWcSU5ZOi5dW0PeYSAlWQyaU7Z_dR_A-nWRjkcf1rLvBgzV-tIHddKaAUmDnOV0_Qy7nOeFAK3Fqt3OwPXCXBLGcHERXHnO3763p91GvWlgUEtdecJHM26fcZv-gLsqkAgmburWfPz7GQykoW-5MDPukYCA-pl5hNMBh-MqFa0NAV0XrijNis8h_IqJgxK4rSBh-jLuQ2pL6pOYIAreujeXeuK0qEE1WXBvrCml5WWqCS0Oo4LUNAkoIUtgDOxKeRiKb5xoB0CNxJDCTR1GoCsTB6LnEoT72agJLABUm8YAw-LdXPBJFl05EQwpO5ToglbLSitTUhdGTT1ikSysK738x9tuSMtM4QC_1TyOgMddN2ZzpH7lhLgkdQQNJOSvuSyCoU5wCpiUpSaa4_WgqdzEpk5kUbv9o-QktySX2bOzziMkCO5gso2MqMRcEDxo6BK4qfVMAdDEpIkeFKyyTX77TcQwq9juNkB6JZII-_ieC4FC5Prhh21xbLnQXIY_dk89bWabZl65ToTsh8TXZmWLfv5gL_euFktf_k3g7a3mPcrgP5ShPCZf--tOIB3itPNo-kSvuftp8tfxLX58VXk_JvyKTsmo8sg7jYTiDsBDvCggcnhI2_Tyjd_Tdekfr-6xbqB8w-oHG4qY7HEKYIeVHcBy501k8YcYqzyNa48xGhUrvyN4c2zzKnvOuDhwClColFepN3WoGwtzM8BadIZ8IOCG58OWwkzdHckUg35AJty5Z4MiTczRnCoojySdr5iAT-iI5Q4JHyxUyF9gL4SkKlOP44yOBBJj95jz7iMwN-ovM9uVF3TBazWa7U79qdFrXZ2iNzMblhdFs143r1lX9yoC_7Rl62803LtqdVr3ZaBqdS6NjGI3m9h8OEuyc)



<details>
  <summary>PostgreSQL commands to create the tables</summary>
  
  ```
-- Create tables
CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    email VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    phone_number VARCHAR(20),
    address TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE banner_carousel (
    banner_id SERIAL PRIMARY KEY,
    image_url VARCHAR(255) NOT NULL,
    title VARCHAR(100),
    description TEXT,
    link_url VARCHAR(255),
    display_order INTEGER,
    start_date DATE,
    end_date DATE
);

CREATE TABLE cart (
    id SERIAL PRIMARY KEY,
    user_id INTEGER UNIQUE NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE
);

CREATE TABLE food_categories (
    category_id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    display_order INTEGER,
    icon_url VARCHAR(255)
);

CREATE TABLE restaurants (
    restaurant_id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    address TEXT NOT NULL,
    phone_number VARCHAR(20),
    rating DECIMAL(3,2),
    opening_hours VARCHAR(100),
    cuisine_type VARCHAR(50)
);

CREATE TABLE restaurant_submenu (
    submenu_id SERIAL PRIMARY KEY,
    restaurant_id INTEGER,
    name VARCHAR(50) NOT NULL,
    display_order INTEGER,
    FOREIGN KEY (restaurant_id) REFERENCES restaurants(restaurant_id)
);

CREATE TABLE menu_items (
    item_id SERIAL PRIMARY KEY,
    restaurant_id INTEGER,
    submenu_id INTEGER,
    category_id INTEGER,
    name VARCHAR(100) NOT NULL,
    description TEXT,
    price DECIMAL(10,2) NOT NULL,
    image_url VARCHAR(255),
    FOREIGN KEY (restaurant_id) REFERENCES restaurants(restaurant_id),
    FOREIGN KEY (submenu_id) REFERENCES restaurant_submenu(submenu_id),
    FOREIGN KEY (category_id) REFERENCES food_categories(category_id)
);

CREATE TABLE cart_items (
    id SERIAL PRIMARY KEY,
    cart_id INTEGER NOT NULL,
    menu_item_id INTEGER NOT NULL,
    quantity INTEGER NOT NULL,
    FOREIGN KEY (cart_id) REFERENCES cart(id) ON DELETE CASCADE,
    FOREIGN KEY (menu_item_id) REFERENCES menu_items(item_id) ON DELETE CASCADE,
    UNIQUE (cart_id, menu_item_id)
);

CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    user_id INTEGER,
    restaurant_id INTEGER,
    total_amount DECIMAL(10,2) NOT NULL,
    status VARCHAR(20) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    delivery_address TEXT,
    delivery_instructions TEXT,
    FOREIGN KEY (user_id) REFERENCES users(user_id),
    FOREIGN KEY (restaurant_id) REFERENCES restaurants(restaurant_id)
);

CREATE TABLE order_items (
    order_item_id SERIAL PRIMARY KEY,
    order_id INTEGER,
    item_id INTEGER,
    quantity INTEGER NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (item_id) REFERENCES menu_items(item_id)
);

CREATE TABLE payment_methods (
    payment_method_id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL
);

CREATE TABLE order_payments (
    payment_id SERIAL PRIMARY KEY,
    order_id INTEGER,
    payment_method_id INTEGER,
    amount DECIMAL(10,2) NOT NULL,
    status VARCHAR(20) NOT NULL,
    transaction_id VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (payment_method_id) REFERENCES payment_methods(payment_method_id)
);

CREATE TABLE delivery_status (
    status_id SERIAL PRIMARY KEY,
    order_id INTEGER,
    status VARCHAR(50) NOT NULL,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (order_id) REFERENCES orders(order_id)
);

CREATE TABLE reviews (
    review_id SERIAL PRIMARY KEY,
    user_id INTEGER,
    restaurant_id INTEGER,
    rating INTEGER NOT NULL,
    comment TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id),
    FOREIGN KEY (restaurant_id) REFERENCES restaurants(restaurant_id)
);

-- Create indexes
CREATE INDEX idx_cart_user_id ON cart(user_id);
CREATE INDEX idx_cart_items_cart_id ON cart_items(cart_id);
CREATE INDEX idx_cart_items_menu_item_id ON cart_items(menu_item_id);
  ```
</details>

<details>
  <summary>PostgreSQL commands to create the tables</summary>
  
  ```
-- Insert sample data into users table
INSERT INTO users (email, password, phone_number, address, first_name, last_name) VALUES
('john.doe@example.com', 'hashed_password_1', '1234567890', '123 Main St, City, Country', 'John', 'Doe'),
('jane.smith@example.com', 'hashed_password_2', '9876543210', '456 Elm St, Town, Country', 'Jane', 'Smith'),
('bob.johnson@example.com', 'hashed_password_3', '5551234567', '789 Oak St, Village, Country', 'Bob', 'Johnson'),
('alice.williams@example.com', 'hashed_password_4', '3337891234', '321 Pine St, Hamlet, Country', 'Alice', 'Williams'),
('charlie.brown@example.com', 'hashed_password_5', '9998887777', '654 Maple St, Borough, Country', 'Charlie', 'Brown'),
('diana.prince@example.com', 'hashed_password_6', '1112223333', '987 Cedar St, District, Country', 'Diana', 'Prince'),
('edward.stark@example.com', 'hashed_password_7', '4445556666', '147 Birch St, County, Country', 'Edward', 'Stark');

-- Insert sample data into banner_carousel table
INSERT INTO banner_carousel (image_url, title, description, link_url, display_order, start_date, end_date) VALUES
('https://example.com/banner1.jpg', 'Summer Sale', 'Get 20% off on all items', 'https://example.com/summer-sale', 1, '2024-06-01', '2024-08-31'),
('https://example.com/banner2.jpg', 'New Restaurant', 'Try our latest addition', 'https://example.com/new-restaurant', 2, '2024-05-15', '2024-07-15'),
('https://example.com/banner3.jpg', 'Free Delivery', 'On orders over $30', 'https://example.com/free-delivery', 3, '2024-05-01', '2024-06-30'),
('https://example.com/banner4.jpg', 'Healthy Options', 'Discover our health food section', 'https://example.com/healthy-options', 4, '2024-06-15', '2024-09-15'),
('https://example.com/banner5.jpg', 'Pizza Fest', 'All pizzas at $10', 'https://example.com/pizza-fest', 5, '2024-07-01', '2024-07-31'),
('https://example.com/banner6.jpg', 'Breakfast Deal', 'Get a free coffee with any breakfast item', 'https://example.com/breakfast-deal', 6, '2024-06-01', '2024-08-31'),
('https://example.com/banner7.jpg', 'Sushi Bonanza', '50% off on all sushi rolls', 'https://example.com/sushi-bonanza', 7, '2024-08-01', '2024-08-31');

-- Insert sample data into cart table
INSERT INTO cart (user_id) VALUES
(1), (2), (3), (4), (5), (6), (7);

-- Insert sample data into food_categories table
INSERT INTO food_categories (name, display_order, icon_url) VALUES
('Pizza', 1, 'https://example.com/icons/pizza.png'),
('Burgers', 2, 'https://example.com/icons/burger.png'),
('Sushi', 3, 'https://example.com/icons/sushi.png'),
('Pasta', 4, 'https://example.com/icons/pasta.png'),
('Salads', 5, 'https://example.com/icons/salad.png'),
('Desserts', 6, 'https://example.com/icons/dessert.png'),
('Drinks', 7, 'https://example.com/icons/drink.png');

-- Insert sample data into restaurants table
INSERT INTO restaurants (name, address, phone_number, rating, opening_hours, cuisine_type) VALUES
('Pizza Palace', '123 Cheese St, Pizza Town', '555-1234', 4.5, 'Mon-Sun 11:00-23:00', 'Italian'),
('Burger Bonanza', '456 Patty Ave, Burger City', '555-5678', 4.2, 'Mon-Sat 11:00-22:00', 'American'),
('Sushi Sensation', '789 Wasabi Ln, Sushi Village', '555-9012', 4.7, 'Tue-Sun 12:00-22:00', 'Japanese'),
('Pasta Paradise', '321 Noodle Rd, Pasta City', '555-3456', 4.3, 'Mon-Sun 11:30-22:30', 'Italian'),
('Salad Sanctuary', '654 Lettuce St, Green Town', '555-7890', 4.1, 'Mon-Fri 10:00-20:00', 'Healthy'),
('Dessert Dreams', '987 Sugar Ave, Sweet City', '555-2345', 4.6, 'Mon-Sun 12:00-23:00', 'Desserts'),
('Taco Town', '159 Salsa St, Spice City', '555-6789', 4.4, 'Mon-Sun 11:00-23:00', 'Mexican');

-- Insert sample data into restaurant_submenu table
INSERT INTO restaurant_submenu (restaurant_id, name, display_order) VALUES
(1, 'Pizzas', 1),
(1, 'Sides', 2),
(2, 'Burgers', 1),
(2, 'Fries', 2),
(3, 'Sushi Rolls', 1),
(3, 'Sashimi', 2),
(4, 'Pasta Dishes', 1);

-- Insert sample data into menu_items table
INSERT INTO menu_items (restaurant_id, submenu_id, category_id, name, description, price, image_url) VALUES
(1, 1, 1, 'Margherita Pizza', 'Classic tomato and mozzarella pizza', 12.99, 'https://example.com/margherita.jpg'),
(1, 2, 1, 'Garlic Bread', 'Freshly baked garlic bread', 4.99, 'https://example.com/garlic_bread.jpg'),
(2, 3, 2, 'Classic Cheeseburger', 'Beef patty with cheese and veggies', 9.99, 'https://example.com/cheeseburger.jpg'),
(2, 4, 2, 'Curly Fries', 'Crispy seasoned curly fries', 3.99, 'https://example.com/curly_fries.jpg'),
(3, 5, 3, 'California Roll', 'Crab, avocado, and cucumber roll', 7.99, 'https://example.com/california_roll.jpg'),
(3, 6, 3, 'Salmon Sashimi', 'Fresh sliced salmon sashimi', 11.99, 'https://example.com/salmon_sashimi.jpg'),
(4, 7, 4, 'Spaghetti Carbonara', 'Creamy pasta with bacon and eggs', 13.99, 'https://example.com/carbonara.jpg');

-- Insert sample data into cart_items table
INSERT INTO cart_items (cart_id, menu_item_id, quantity) VALUES
(1, 1, 2),
(1, 2, 1),
(2, 3, 1),
(3, 4, 2),
(4, 5, 3),
(5, 6, 2),
(6, 7, 1);

-- Insert sample data into orders table
INSERT INTO orders (user_id, restaurant_id, total_amount, status, delivery_address, delivery_instructions) VALUES
(1, 1, 30.97, 'Delivered', '123 Main St, City, Country', 'Leave at the door'),
(2, 2, 17.97, 'In Progress', '456 Elm St, Town, Country', 'Call upon arrival'),
(3, 3, 23.97, 'Preparing', '789 Oak St, Village, Country', 'Doorbell is broken, please knock'),
(4, 4, 20.98, 'Out for Delivery', '321 Pine St, Hamlet, Country', 'Address is a business'),
(5, 5, 10.98, 'Delivered', '654 Maple St, Borough, Country', 'No contact delivery'),
(6, 1, 25.98, 'Cancelled', '987 Cedar St, District, Country', ''),
(7, 2, 13.98, 'Preparing', '147 Birch St, County, Country', 'Allergic to nuts');

-- Insert sample data into order_items table
INSERT INTO order_items (order_id, item_id, quantity, price) VALUES
(1, 1, 2, 12.99),
(1, 2, 1, 4.99),
(2, 3, 1, 9.99),
(3, 4, 2, 3.99),
(4, 5, 3, 7.99),
(5, 6, 2, 11.99),
(6, 7, 1, 13.99);

-- Insert sample data into payment_methods table
INSERT INTO payment_methods (name) VALUES
('Credit Card'),
('Debit Card'),
('PayPal'),
('Apple Pay'),
('Google Pay'),
('Cash'),
('Cryptocurrency');

-- Insert sample data into order_payments table
INSERT INTO order_payments (order_id, payment_method_id, amount, status, transaction_id) VALUES
(1, 1, 30.97, 'Completed', 'TXN123456'),
(2, 2, 17.97, 'Pending', 'TXN234567'),
(3, 3, 23.97, 'Completed', 'TXN345678'),
(4, 4, 20.98, 'Completed', 'TXN456789'),
(5, 5, 10.98, 'Completed', 'TXN567890'),
(6, 1, 25.98, 'Refunded', 'TXN678901'),
(7, 2, 13.98, 'Pending', 'TXN789012');

-- Insert sample data into delivery_status table
INSERT INTO delivery_status (order_id, status) VALUES
(1, 'Delivered'),
(2, 'In Transit'),
(3, 'Preparing'),
(4, 'Out for Delivery'),
(5, 'Delivered'),
(6, 'Cancelled'),
(7, 'Preparing');

-- Insert sample data into reviews table
INSERT INTO reviews (user_id, restaurant_id, rating, comment) VALUES
(1, 1, 5, 'Best pizza in town!'),
(2, 2, 4, 'Great burgers, but fries were a bit cold'),
(3, 3, 5, 'Amazing sushi, fresh and delicious'),
(4, 4, 4, 'Pasta was good, but service was slow'),
(5, 5, 3, 'Salad was fresh, but dressing was too salty'),
(6, 6, 5, 'Desserts are to die for!'),
(7, 7, 4, 'Authentic Mexican flavors, will come back');
  ```
</details>
